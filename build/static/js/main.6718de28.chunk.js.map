{"version":3,"sources":["services/persons.js","components/Search.js","components/List.js","components/Form.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","person","post","id","delete","put","Search","value","handler","onChange","List","persons","handleDelete","map","name","number","onClick","Form","handlers","values","onSubmit","type","Notification","notification","notificationStyle","color","status","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","message","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setNotification","useEffect","personService","initialPersons","catch","e","setTimeout","personsToShow","filter","toLowerCase","indexOf","target","preventDefault","foundPerson","find","updatedPerson","window","confirm","returnedPerson","concat","deletedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6718de28.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl);\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst create = person => {\r\n  const req = axios.post(baseUrl, person);\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst destroy = (id) => {\r\n  const req = axios.delete(`${baseUrl}/${id}`);\r\n  return req.then(res => res.data)\r\n}\r\n\r\nconst update = person => {\r\n  const req = axios.put(`${baseUrl}/${person.id}`, person);\r\n  return req.then(res => res.data);\r\n}\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default { getAll, create, destroy, update };\r\n","import React from 'react';\r\n\r\nconst Search = ({ value, handler }) => {\r\n  return (\r\n    <div>\r\n          filter shown with<input value={value} onChange={handler} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\n\r\nconst List = ({ persons, handleDelete }) => {\r\n  if (!persons) {\r\n    return null\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {persons.map(person =>\r\n        <p key={person.id}>{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button></p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default List;","import React from 'react';\r\n\r\nconst Form = ({ handlers, values }) => {\r\n  return (\r\n    <form onSubmit={handlers[0]}>\r\n      <div>\r\n        name: <input value={values[0]} onChange={handlers[1]} />\r\n      </div>\r\n      <div>\r\n          number: <input value={values[1]} onChange={handlers[2]} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (!notification) {\r\n    return null\r\n  }\r\n\r\n  const status = notification.status === 'success'\r\n    ? 'green'\r\n    : 'red';\r\n\r\n  const notificationStyle = {\r\n    color: status,\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {notification.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport personService from '../services/persons';\nimport Search from './Search';\nimport List from './List';\nimport Form from './Form';\nimport Notification from './Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState(null);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ newSearch, setNewSearch ] = useState('');\n  const [ notification, setNotification ] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(e => {\n        setNotification({\n          message: e.message,\n          status: 'error'\n        })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n  }, []);\n\n  const handleNameChange = e => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = e => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearchChange = e => {\n    setNewSearch(e.target.value.toLowerCase())\n  }\n\n  const handleDelete = id => {\n    const deletedPerson = persons.find(person => person.id === id);\n\n    if (window.confirm(`Delete ${deletedPerson.name}?`)) {\n      personService.destroy(id)\n        .then(() => {\n          setPersons(persons.filter(person => person !== deletedPerson))\n          setNotification({\n            message: `Deleted ${deletedPerson.name}`,\n            status: 'success'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(e => {\n          setNotification({\n            message: e.message,\n            status: 'error'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const personsToShow = newSearch \n    ? persons.filter(person => person.name.toLowerCase().indexOf(newSearch) !== -1)\n    : persons;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const foundPerson = persons.find(person => person.name === newName);\n\n    if (!foundPerson) {\n      const newPerson = {\n        name: newName, \n        number: newNumber,\n      };\n      personService.create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotification({\n            message: `Added ${returnedPerson.name}`,\n            status: 'success'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(e => {\n          setNotification({\n            message: e.message,\n            status: 'error'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    } else {\n      const updatedPerson = {\n        ...foundPerson,\n        number: newNumber,\n      };\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with (${newNumber})?`)) {\n        personService.update(updatedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person))\n          setNotification({\n            message: `Updated ${returnedPerson.name}`,\n            status: 'success'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(e => {\n          setNotification({\n            message: e.message,\n            status: 'error'\n          })\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification}></Notification>\n      <Search value={newSearch} handler={handleSearchChange}></Search>\n      <Form \n        handlers={[handleSubmit, handleNameChange, handleNumberChange]}\n        values={[newName, newNumber]}\n      >\n      </Form>\n      <List persons={personsToShow} handleDelete={handleDelete}></List>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}